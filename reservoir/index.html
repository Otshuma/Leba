<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="png" href="/fevicon.png"></link>
    <title>Leba App</title>
    <div><a href="/index.html"><strong><span style="color:gray">Back</span></strong></a></div>
</head>
<body>
    <div class="container">
        <div class="card" >
            <div class="card-handle"></div>
            <h2>Mahadzi</h2>
            <p>
                - father’s sister, an aunt -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mahadzi.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
           
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Tezwale</h2>
            <p>
                - father-in-law -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/tezwale.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Tate</h2>
            <p>
                - father -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/tate.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Batatenini</h2>
            <p>
                - father’s younger brother, a paternal uncle -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/batatenini.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Batategulugulu</h2>
            <p>
                - great grandfather -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/batategulugulu.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>


        <div class="card">
            <div class="card-handle"></div>
            <h2>Batategulu</h2>
            <p>
                - grandfather -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/batategulu.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Bhatilila</h2>
            <p>
                -  -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/bhatilila.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Kuku</h2>
            <p>
                - grandmother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/kuku.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Manini</h2>
            <p>
                - mother’s younger sister; an aunt -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/manini.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mezwale</h2>
            <p>
                - mother-in-law -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mezwale.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mme</h2>
            <p>
                - mother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mme.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mmebakulu</h2>
            <p>
                - maternal aunt, older than one’s mother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mmebakulu.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mmeyabe</h2>
            <p>
                - his/her mother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mmeyabe.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Hazwadzi</h2>
            <p>
                - father’s sister, an aunt -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/hazwadzi.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mmeyabo</h2>
            <p>
                - your mother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mmeyabo.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>


        <div class="card" >
            <div class="card-handle"></div>
            <h2>Mahadzi</h2>
            <p>
                - father’s sister, an aunt -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/hazwadzi.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
            
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Tezwale</h2>
            <p>
                - father-in-law -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/tezwale.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Tate</h2>
            <p>
                - father -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/tate.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Batatenini</h2>
            <p>
                - father’s younger brother, a paternal uncle -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/batatenini.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Batategulugulu</h2>
            <p>
                - great grandfather -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/batategulugulu.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>


        <div class="card">
            <div class="card-handle"></div>
            <h2>Batategulu</h2>
            <p>
                - grandfather -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/batategulu.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Bhatilila</h2>
            <p>
                -  -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/bhatilila.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Kuku</h2>
            <p>
                - grandmother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/kuku.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Manini</h2>
            <p>
                - mother’s younger sister; an aunt -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/manini.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mezwale</h2>
            <p>
                - mother-in-law -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mezwale.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mme</h2>
            <p>
                - mother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mme.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mmebakulu</h2>
            <p>
                - maternal aunt, older than one’s mother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mmebakulu.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mmeyabe</h2>
            <p>
                - his/her mother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mmeyabe.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Hazwadzi</h2>
            <p>
                - father’s sister, an aunt -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/hazwadzi.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>

        <div class="card">
            <div class="card-handle"></div>
            <h2>Mmeyabo</h2>
            <p>
                - your mother -
            </p>
            <div class="audio-player">
                <audio src="./lindiwe_kheswa/mmeyabo.m4a" preload="metadata"></audio>
                <button class="play-btn">▶</button>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <div class="time">0:00</div>
            </div>
        </div>















































    </div>









    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.card');
            const players = document.querySelectorAll('.audio-player');
            let activeCard = null;
            let initialX = 0;
            let initialY = 0;
            let xOffset = 0;
            let yOffset = 0;
            
            // Setup draggable functionality for all cards
            cards.forEach(card => {
                const handle = card.querySelector('.card-handle');
                
                // Click on card (not on handle) brings it to front
                card.addEventListener('click', function(e) {
                    if (e.target.closest('.audio-player') || e.target.closest('.card-handle')) {
                        return;
                    }
                    
                    // Remove active class from all cards
                    cards.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked card
                    this.classList.add('active');
                    
                    // Update z-index to bring to front
                    updateZIndex(this);
                });
                
                // Handle mousedown on card handle
                handle.addEventListener('mousedown', dragStart);
                handle.addEventListener('touchstart', dragStart, { passive: false });
                
                // Store card's position as data attributes
                setCardPosition(card);
            });
            
            // Function to start dragging
            function dragStart(e) {
                e.preventDefault();
                
                // Get target card (parent of handle)
                activeCard = e.target.closest('.card');
                
                // Bring the card to front
                cards.forEach(c => c.classList.remove('active'));
                activeCard.classList.add('active');
                activeCard.classList.add('dragging');
                updateZIndex(activeCard);
                
                if (e.type === "touchstart") {
                    initialX = e.touches[0].clientX - parseFloat(activeCard.getAttribute('data-x') || 0);
                    initialY = e.touches[0].clientY - parseFloat(activeCard.getAttribute('data-y') || 0);
                } else {
                    initialX = e.clientX - parseFloat(activeCard.getAttribute('data-x') || 0);
                    initialY = e.clientY - parseFloat(activeCard.getAttribute('data-y') || 0);
                }
                
                // Add event listeners for drag events
                document.addEventListener('mousemove', drag);
                document.addEventListener('touchmove', drag, { passive: false });
                document.addEventListener('mouseup', dragEnd);
                document.addEventListener('touchend', dragEnd);
            }
            
            // Function to handle dragging
            function drag(e) {
                if (!activeCard) return;
                e.preventDefault();
                
                let currentX, currentY;
                
                if (e.type === "touchmove") {
                    currentX = e.touches[0].clientX - initialX;
                    currentY = e.touches[0].clientY - initialY;
                } else {
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;
                }
                
                // Update card position
                activeCard.style.transform = `translate(${currentX}px, ${currentY}px)`;
                activeCard.setAttribute('data-x', currentX);
                activeCard.setAttribute('data-y', currentY);
            }
            
            // Function to end dragging
            function dragEnd(e) {
                if (!activeCard) return;
                
                // Remove dragging class
                activeCard.classList.remove('dragging');
                
                // Update final position
                setCardPosition(activeCard);
                
                // Reset active card
                activeCard = null;
                
                // Remove event listeners
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('touchmove', drag);
                document.removeEventListener('mouseup', dragEnd);
                document.removeEventListener('touchend', dragEnd);
            }
            
            // Function to store card's position
            function setCardPosition(card) {
                // Get computed style to find current position
                const style = window.getComputedStyle(card);
                const transform = style.transform || style.webkitTransform;
                
                if (transform && transform !== 'none') {
                    const matrix = transform.match(/matrix.*\((.+)\)/);
                    if (matrix) {
                        const values = matrix[1].split(', ');
                        const x = parseFloat(values[4]);
                        const y = parseFloat(values[5]);
                        
                        card.setAttribute('data-x', x);
                        card.setAttribute('data-y', y);
                    }
                } else {
                    card.setAttribute('data-x', 0);
                    card.setAttribute('data-y', 0);
                }
            }
            
            // Function to update z-index to ensure proper stacking
            function updateZIndex(card) {
                // Set max z-index for the active card
                const maxZ = Math.max(...Array.from(cards).map(c => parseInt(c.style.zIndex || 0)));
                card.style.zIndex = maxZ + 1;
            }
            
            // Setup audio players
            players.forEach(player => {
                const audio = player.querySelector('audio');
                const playBtn = player.querySelector('.play-btn');
                const progressContainer = player.querySelector('.progress-container');
                const progress = player.querySelector('.progress');
                const timeDisplay = player.querySelector('.time');
                
                // Click on play button
                playBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Pause all other audio elements
                    document.querySelectorAll('audio').forEach(a => {
                        if (a !== audio) {
                            a.pause();
                            a.closest('.audio-player').querySelector('.play-btn').textContent = '▶';
                        }
                    });
                    
                    // Toggle play/pause
                    if (audio.paused) {
                        audio.play();
                        playBtn.textContent = '❚❚';
                    } else {
                        audio.pause();
                        playBtn.textContent = '▶';
                    }
                });
                
                // Update progress bar as audio plays
                audio.addEventListener('timeupdate', function() {
                    // Update the progress width
                    const progressPercent = (audio.currentTime / audio.duration) * 100;
                    progress.style.width = `${progressPercent}%`;
                    
                    // Update time display
                    const minutes = Math.floor(audio.currentTime / 60);
                    const seconds = Math.floor(audio.currentTime % 60);
                    timeDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                });
                
                // Reset when audio ends
                audio.addEventListener('ended', function() {
                    playBtn.textContent = '▶';
                    progress.style.width = '0%';
                    timeDisplay.textContent = '0:00';
                });
                
                // Click on progress bar to seek
                progressContainer.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const clickPosition = e.offsetX / this.offsetWidth;
                    audio.currentTime = clickPosition * audio.duration;
                });
            });
            
            // Initial setup - make first card active
            cards[0].classList.add('active');
            cards.forEach(card => {
                updateZIndex(card);
            });
        });
    </script>
</body>
</html>